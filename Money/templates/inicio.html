{% extends "base.html" %}
{% load static %}


{% block extra_head %}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<style>

    .carousel-control-prev-icon,
    .carousel-control-next-icon {
        background-color: rgba(0, 0, 0, 0.5);
        width: 30px;
        height: 30px;
    }
    
    .carousel-inner {
        overflow: visible;  /* Esto es importante para ver las tarjetas fuera del item activo del carrusel */
    }
    

.container{
        margin: 0 !important;
        min-width: 98.9vw !important;
        height: 100%;
        font-size: 40px;
        line-height:55.32px;
        overflow:hidden;
    }
.content-section {
    display: flex;
    justify-content: space-between;
}

.main-content {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    flex-basis: 70%; /* Ocupa el 70% del espacio disponible */
}

.content-card {
    flex-basis: calc(25% - 10px); /* Divide el espacio en 4 partes (para ARTÍCULOS, VIDEOS, PODCASTS, FORO) */
    margin-bottom: 20px;
}

.right-section {
    flex-basis: 25%; /* Ocupa el 25% del espacio disponible */
    padding-left: 20px;
    border-left: 1px solid #ddd;
}

/* Estilos generales */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

/* Estilos para el buscador */
.search-bar {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 1rem;
}

.search-bar select, .search-bar input, .search-bar button {
    margin: 0 0.5rem;
    padding: 0.5rem;
}

/* Estilos para los cursos */
.courses {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    margin-top: 2rem;
}

.course {
    flex-basis: calc(33.33% - 20px);
    margin-bottom: 2rem;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 1rem;
    text-align: center;
}

.course h3 {
    margin-top: 1rem;
}

.course a {
    display: inline-block;
    margin-top: 1rem;
    padding: 0.5rem 1rem;
    background-color: #007BFF;
    color: white;
    text-decoration: none;
}

.course a:hover {
    background-color: #0056b3;
}

/* Estilos para la sección de contenido */
.content-section {
    display: flex;
    justify-content: space-between;
    margin-top: 2rem;
}

.left-section, .right-section {
    flex-basis: calc(50% - 10px);
}

.right-section {
    padding-left: 20px;
    border-left: 1px solid #ddd;
}

.right-section ul {
    list-style-type: none;
    padding: 0;
}

.right-section li {
    margin-bottom: 0.5rem;
}

/* Estilos para el footer */
.footer {
    background-color: #f14e4e;
    padding: 2rem 0;
    margin-top: 2rem;
    text-align: center;
}

.footer h2, .footer h3 {
    margin-bottom: 1rem;
}

.footer p {
    margin-bottom: 2rem;
}

/* Estilo general para la barra de búsqueda */
.search-bar {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #f4f4f4;
    padding: 1rem;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

/* Estilo para el desplegable (select) */
.search-bar select {
    padding: 0.5rem;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-right: 0.5rem;
    appearance: none;
    background-color: #fd9393;
    cursor: pointer;
}

/* Estilo para el campo de texto (input) */
.search-bar input[type="text"] {
    flex-grow: 2;
    padding: 0.5rem;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-right: 0.5rem;
}

/* Estilo para el botón */
.search-bar button {
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 5px;
    background-color: #007BFF;
    color: rgb(255, 255, 255);
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.search-bar button:hover {
    background-color: #0056b3;
}

/* Estilos específicos para los fondos de las cartas */
.courses .course {
    position: relative;
}

.courses .course::before {
    content: "";
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0.5;
    z-index: -1;
    background-size: cover; /* Asegura que la imagen cubra toda la tarjeta */
    background-position: center; /* Centra la imagen en la tarjeta */
}

.courses .course:nth-child(1)::before {
    background-image: url('https://i.pinimg.com/564x/61/63/dd/6163ddd3100852f7785b244ffa40c503.jpg');
}

.courses .course:nth-child(1) {
    background-color: rgba(255, 192, 203, 0.5); /* Rosa con opacidad */
}

.courses .course:nth-child(2)::before {
    background-image: url('https://i.pinimg.com/236x/c2/ff/9c/c2ff9cd2ca778a2091453e73c67f9802.jpg');
}

.courses .course:nth-child(2) {
    background-color: rgba(144, 238, 144, 0.5); /* Verde claro con opacidad */
}

.courses .course:nth-child(3)::before {
    background-image: url('https://i.pinimg.com/236x/74/ae/f6/74aef670942adb30d5b36be54f1ad159.jpg');
}

.courses .course:nth-child(3) {
    background-color: rgba(216, 191, 216, 0.5); /* Morado claro con opacidad */
}

.courses .course:nth-child(4)::before {
    background-image: url('https://i.pinimg.com/236x/db/0e/d6/db0ed6186beee1e070a9a0fc71e6ef7c.jpg');
}

.courses .course:nth-child(4) {
    background-color: rgba(144, 238, 144, 0.5); /* Verde claro con opacidad */
}

.courses .course:nth-child(5)::before {
    background-image: url('https://i.pinimg.com/236x/ca/c0/05/cac005615371cef444f44d4dd97c34c9.jpg');
}

.courses .course:nth-child(5) {
    background-color: rgba(255, 107, 133, 0.5); /* Rojo casi rosa con opacidad */
}

.courses .course:nth-child(6)::before {
    background-image: url('https://i.pinimg.com/236x/a2/a3/66/a2a366b94ac5af582ff4a50b4f75693e.jpg');
}

.courses .course:nth-child(6) {
    background-color: rgba(144, 238, 144, 0.5); /* Verde claro con opacidad */
}


/* Estilos generales para la sección de contenido con styled-section */
.styled-section {
    display: flex;
    justify-content: space-between;
    margin: 40px 0;
    gap: 20px; /* Espacio entre las tarjetas */
}

/* Estilos para las tarjetas de contenido dentro de styled-section */
.styled-section .content-card {
    background-color: #ffffff;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
    width: 100%;
    margin-bottom: 20px;
}

.styled-section .content-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 25px rgba(0, 0, 0, 0.12);
}

/* Estilos para las tarjetas de artículos dentro de styled-section */
.styled-section .article-card {
    display: flex;
    align-items: center;
    margin-top: 25px;
    padding: 15px;
    border: none;
    background-color: #f7f7f7;
    border-radius: 12px;
    transition: background-color 0.3s ease-in-out;
}

.styled-section .article-card:hover {
    background-color: #e9e9e9;
}

.styled-section .article-card img {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    margin-right: 25px;
    object-fit: cover; /* Asegura que las imágenes se ajusten correctamente */
}

.styled-section .article-card a {
    font-weight: 600;
    color: #333;
    text-decoration: none;
    transition: color 0.3s ease-in-out;
}

.styled-section .article-card a:hover {
    color: #007BFF;
}

/* Estilos para la sección derecha dentro de styled-section */
.styled-section .right-section {
    width: 48%; /* Ajusta según tus necesidades */
}

.styled-section .article-card {
    display: flex;
    flex-wrap: wrap; /* Permite que los elementos se envuelvan si no hay suficiente espacio */
    align-items: center;
    margin-top: 25px;
    padding: 15px;
    border: none;
    background-color: #f7f7f7;
    border-radius: 12px;
    transition: background-color 0.3s ease-in-out;
}

.styled-section .article-card:hover {
    background-color: #e9e9e9;
}

.styled-section .article-card img {
    width: 70px; /* Reducido para pantallas más pequeñas */
    height: 70px;
    border-radius: 50%;
    margin-right: 25px;
    object-fit: cover;
    flex-shrink: 0; /* Evita que la imagen se reduzca */
}

.styled-section .article-card .article-details {
    flex-grow: 1; /* Permite que el contenedor de detalles crezca y ocupe el espacio restante */
}

.styled-section .article-card a {
    font-weight: 600;
    color: #333;
    text-decoration: none;
    transition: color 0.3s ease-in-out;
    display: block; /* Hace que el enlace ocupe toda la línea */
    margin-top: 10px; /* Espacio entre el autor y el título */
}

.styled-section .article-card a:hover {
    color: #007BFF;
}

</style>
{% endblock %}

{% block content %}
<div style="background-color: #e1cfbd; width: 100%; height: 257px;display: flex; align-items: center;justify-content: center; position: relative; overflow: hidden;">
    <div style="background-color: white; border-radius: 50px; width: 400px; height: 150px; display: flex; align-items: center;">
        <h1 style="text-align: center;">Eleva tus conocimientos</h1>
    </div>
    <div style="position: absolute; inset-inline-start: -80px; inset-block-start: -120px; height: 250px; width: 250px; background-color: #f3e2d9; border-radius: 50%;"></div>
    <div style="position: absolute; inset-inline-end: -120px; inset-block-end: -120px; height: 250px; width: 250px; background-color: #f3e2d9; border-radius: 50%;"></div>
</div>
<p style="margin-block-start:55px;margin-inline-start: 40px;"><b>Una extensa variedad de cursos.</b></p>
<p style="text-align:center;margin-inline: 40px; margin-block-end:50px;">Únete a nuestra plataforma y elige entre más de 10.000 cursos en vídeo, con adiciones mensuales para mantenerte al día.</p>
<!-- <div class="search-bar">
    <form method="GET" action="{% url 'buscar' %}" class="search-bar">
        <select>
            <option value="all">Todas las categorias</option>
        </select>
        <input type="text" name="q" value="{{ request.GET.q }}" placeholder="¿Qué estás buscando?">
        <button type="submit">Buscar</button>
    </form>
</div> -->

<div style="background-color:white;margin-inline: 34px; padding-block-start:27px; padding-block-end:29px; margin-block-end:80px;">
    <p style="text-align:center;padding-block-end:31px;">Potencie su bienestar económico a través de los fundamentos financieros.</p>
    <p style="text-align:center;font-size:20px;line-height:27.66px;">Participe en uno de los cursos de fundamentos financieros de Money Master  y descubra el arte de la gestión monetaria y la inversión. Su enfoque práctico y comprensible hace que estos fundamentos sean esenciales para la planificación del retiro, la creación de presupuestos, la gestión del ahorro. y la inversión. Aprenderá cómo manejar desde sus finanzas personales hasta estrategias de inversión, dando forma a un futuro financiero más sólido y estable</p>
    <div style="display:flex; justify-content:center; margin-block:40px;">
        <a href="{% url 'index_contenido_sin_inicio' %}">
            <button style="width:224px;height:47px;font-size:25px;line-height:34.58px; text-align:center;">Explorar cursos</button>
        </a>
    </div>
    
    <div id="cursoCarousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner" style="padding-inline:220px;">
    
            {% for curso in cursos %}
            {% if forloop.counter0|divisibleby:3 %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <div class="row">
            {% endif %}
    
            <div class="col-md-4">
                <div class="card">
                    <img src="{{ curso.imagen.url }}" alt="{{ curso.titulo }}" class="img-fluid">
                    <p style="font-size:15px; margin:0;height:40px;padding-inline-start:20px;">{{ curso.instructor.username }}</p>
                    <p style="font-size:15px; margin:0;height:40px;padding-inline-start:20px;">{{ curso.vistas }} vistas</p>
                    <p style="font-size:20px; margin:0;height:40px;padding-inline-start:20px;">${{ curso.precio }}</p>
                </div>
            </div>
    
            {% if forloop.counter|divisibleby:3 or forloop.last %}
                </div>
            </div>
            {% endif %}
            {% endfor %}
    
        </div>
        <a class="carousel-control-prev" href="#cursoCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#cursoCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

<p style="font-size:40px; line-height:55.32px;margin-inline-start:32px;">Descubre cómo otros estudiantes como tú están triunfando en sus objetivos.</p>
<div id="comentarioCarrusel" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
        {% for grupo_comentarios in comentarios_segmentados %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <div style="height:368px;background-color:#fcf7f3;width:100%;margin-block-end:43px;padding-inline:97px;padding-block:29px;display:flex; justify-content:space-between;">
                {% for comentario in grupo_comentarios %}
                <div style="width:365px;height:310px;background-color:white;padding-block-start:40px;">
                    <p style="font-size:20px;line-height:27.6px;text-align:center; margin:0; height: 200px; overflow: auto;">{{ comentario.texto }}</p>

                    <hr style="border-bottom:1px solid black;width:310px;margin-block:0;">
                    <div style="display:flex; padding-inline-start:27px;">
                        <div style="padding-inline-end:17px;">
                            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" height="40" viewBox="0 0 40 40" fill="none">
                            <rect width="40" height="40" fill="url(#pattern0_{{ comentario.id }})"/>
                            <defs>
                            <pattern id="pattern0_{{ comentario.id }}" patternContentUnits="objectBoundingBox" width="1" height="1">
                            <use xlink:href="#image0_7_83_{{ comentario.id }}" transform="scale(0.00195312)"/>
                            </pattern>
                            <image id="image0_7_83_{{ comentario.id }}" width="512" height="512" xlink:href="{{ comentario.curso.imagen_url }}"/>
                            </defs>
                            </svg>
                        </div>
                        <p style="font-size:15px;line-height:20.75px;text-align:center; margin-block-start:15px;"><b>{{ comentario.curso.titulo }}</b></p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Controles del carrusel -->
    <a class="carousel-control-prev" href="#comentarioCarrusel" data-slide="prev">
        <span class="carousel-control-prev-icon"></span>
    </a>
    <a class="carousel-control-next" href="#comentarioCarrusel" data-slide="next">
        <span class="carousel-control-next-icon"></span>
    </a>

</div>


<div style="padding-inline: 40.5px;">
    <h2 style="margin-block-end: 25px;">Categorias principales</h2>
    <div style="display: flex; flex-wrap: wrap; row-gap: 20px; column-gap: 146px;">
        {% for categoria in categorias_principales %}
            <div style="display: flex; align-items: center; justify-content: start; flex-direction: column; width: 300px; height: 262px; gap: 5px;">
                <div style="background-color: #dadada; height: 200px; width: 300px;"></div>
                <p style="font-size:30px; line-height:41.49px;">{{ categoria.1 }}</p>
            </div>
        {% endfor %}
    </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

{% endblock %}